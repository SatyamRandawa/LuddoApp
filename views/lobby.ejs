<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ludo | Mobile Game</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script language="JavaScript">var baseUrl = "<%= baseUrl %>"</script>
    <script src="<%= baseUrl %>libs/jquery.min.js"></script>
    <script src="<%= baseUrl %>libs/socket.io.js"></script>
    <script type="text/javascript" src="<%= baseUrl %>lobby.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"
        integrity="sha384-xrRywqdh3PHs8keKZN+8zzc5TX0GRTLCcmivcbNJWm2rs5C8PRhcEn3czEjhAO9o"
        crossorigin="anonymous"></script>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!--<link rel="stylesheet" href="<%= baseUrl %>assets/css/style.css">-->
    <title>LudoClub</title>
    <style>
        body {

            background-image: url("assets/img/playersearch.jpg");
            background-repeat: no-repeat, repeat;
            background-size: cover;
        }

        .card {
            background-color: unset;
        }

        #players,
        #readyPlayers {
            color: #ffffff;
            font-size: 18px;
            margin-top: -28px;
           
        }

        .well img {
    width: 110px;
    height: 30px;
    position: absolute;
    z-index: -1;
    margin-left: -14px;
    margin-top: 0px;
}
#readyPlayers .well img {
    width: 110px;
    height: 30px;
    position: absolute;
    z-index: -1;
    margin-left: -36px;
    margin-top: 0px;
}

        .b_color {
    border: 3px solid #871e19;
}
        .uper-top {
            margin-top: -3rem;
        }

        #time {
    color: #ffffff;
    margin-top: -26px;
    font-size: 18px;
}

        .user-tow {
            margin-top: -25px;
        }

        #room_ID {
    font-size: 17px;
    color: #f7c021;
    font-weight: 900;
    width: 110px;
    border: 2px solid #ffb701;
    margin-left: 122px;
    background-color: #022a92;
    padding-top: 3px;
    padding-bottom: 3px;
    border-radius: 32px;
}
.logo-img-center {
    width: 100%;
    max-width: 75%;
    margin-left: 45px;
}
.time{
    margin-top: -30px;
}
    </style>
</head>

<body>


    <div class="container" id="container">
        <div class="row" style="padding-top:3rem">
            <div class="col-8">
                <button class="btn" style="padding: 0px;" onclick="pageRedirect()"><img
                        src="assets\img\ludo\Backbutton.png" class="img-fluid" alt="" width="45"></button>
            </div>
            <div class=" col-4 d-flex handle_sound justify-content-end">
                <h5 class="modal-title" id="staticBackdropLabel"><img src="assets\img\ludo\music.png" class="img-fluid"
                        alt="" width="100px"></h5>
                <h5 class="modal-title" id="staticBackdropLabel"><img src="assets\img\ludo\sound.png" class="img-fluid"
                        alt="" width="100px"></h5>
            </div>

        </div>
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <div class="logo-img-center">

                    <img src="assets\img\ludo\logo.png" class="img-fluid" alt="">
                </div>
            </div>
            <div class="col-md-4"></div>
        </div>
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8 mt-5"> <img src="assets\img\ludo\real_time_player.png" class="img-fluid uper-top" alt="">
            </div>
            <div class="col-2"></div>
        </div>
        <div class="row">
            <div class="col-1"></div>
            <div class="col-10 mb-3"> <img src="assets\img\ludo\EntryAmount.png" class="img-fluid" alt=""></div>
            <div class="col-1"></div>
        </div>
        <div class="text-center">
            <h1 id="room_ID"></h1>
        </div>
        <div class="row">
            <div class="col-md-5" style="width:35%;padding-right: 0px;
    padding-left: 0px">
                <div class="card card-default">

                    <div class="card-header text-right">
                        <div class="">
                            <img src="assets/img/ludo/user1.png" class="img-fluid b_color" width="110" style="margin-left: 15px;">
                        </div>
                    </div>
                    <div class="card-body text-center">
                        <div id="players"></div>
                    </div>
                </div>
            </div>

            <div class="col-md-2 col-xs-12" style="width:30%;padding-right: 0px;
    padding-left: 0px">
                <div class="card card-default">
                    <div class="card-header mt-3 " ><img src="assets/img/ludo/vs-img.png"
                            class="img-fluid" width="110">
                    </div>
                    <div id="ongoingGames1" class="card-body">

                    </div>
                    <div class="card-footer">

                    </div>
                </div>
            </div>

            <div class="col-md-5 col-xs-12" style="width: 35%;padding-right: 0px;
    padding-left: 0px">
                <div class="card card-default">
                    <div class="card-header text-left"><img src="assets/img/ludo/user2.png" class="img-fluid b_color"
                            width="110" style="margin-left: -10px;">
                    </div>
                    <div class="card-body text-center">
                        <div id="readyPlayers"></div>
                    </div>

                    <div class="card-footer">
                        <div>
                            <button class="btn btn-success" id="startGame" style="display: none;">Start Game</button>
                            <button class="btn btn-primary" id="readyBtn" style="display: none;">Ready</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="row ">
            <div class="col-4"></div>
            <div class="col-4 time">
                <img src="assets\img\ludo\gametime.png" class="img-fluid" alt="">
                <h1 id="time" style="text-align: center"></h1>
            </div>
            <div class="col-4"></div>
        </div>
        <div class="row mt-2">
            <div class="col-2"></div>
            <div class="col-8"> <img src="assets\img\ludo\Searching.png" class="img-fluid" alt=""></div>
            <div class="col-2"></div>
        </div>

        <div class="row">

        </div>
    </div>


    <div class="modal fade" id="previousGamesModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Previous Games</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12 col-xs-12">
                        <div class="card card-default">
                            <div id="previousGames" class="card-body">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        var timeoutHandle;

        function countdown(minutes, seconds) {
            var seconds = 30;
            var mins = 30 - 29

            function tick() {
                var counter = document.getElementById("time");
                var current_minutes = mins - 1
                seconds--;
                counter.innerHTML =
                    current_minutes.toString() + ":" + (seconds < 10 ? "0" : "") + String(seconds);
                if (seconds > 0) {
                    timeoutHandle = setTimeout(tick, 1000);
                } else {

                    if (mins > 0.5) {

                        // countdown(mins-1);   never reach “00″ issue solved:Contributed by Victor Streithorst
                        setTimeout(function () {
                            countdown(mins - 0.5);

                        }, 1000);

                    }
                }
            }
            tick();
        }

        countdown(0.5);
    </script>
    <script>



        let token = localStorage.getItem("room_id")
        $("#room_ID").html(token)





    </script>
    <script>
        setTimeout(function () {
            $(document).ready(function () {
                $('#readyBtn').trigger('click');
            });
        }, 1000);


    </script>
    <script>
        setTimeout(function () {
            $(document).ready(function () {
                $('#startGame').trigger('click');
            });
        }, 1000);
    </script>
    <script>





        function pageRedirect() {




            localStorage.removeItem("token")




            window.location.href = `/index`;



        }      
    </script>
</body>

</html>